{# templates/message/index.html.twig #}
{% extends 'base.html.twig' %}

{% block stylesheets %}
    {{ parent() }}
        <link rel="stylesheet" href="{{ asset('styles/dashboard.css') }}">
        <link rel="stylesheet" href="{{ asset('styles/Document.css') }}">{% endblock %}

{% block body %}


    <head>
   
        <title>StudySmart - BibliothÃ¨que</title>
    </head>
    <body>
 

        <div class="header">
        

            <main class="content">
                <h1>Bienvenue, {{ app.user.firstName }} !</h1>

                <!-- Section des derniers fichiers -->
                <div class="latest-docs">
                    <h2>ðŸ“„ Derniers fichiers ajoutÃ©s</h2>
                    <div class="latest-docs-container">
                        {% for document in documents|slice(0, 3) %}
                            <div class="doc-card">
                                <p>{{ document.nomDuFichier }}</p>
                                <a href="{{ asset('uploads/pdf/' ~ document.chemin) }}" target="_blank">ðŸ“¥ TÃ©lÃ©charger</a>
                            </div>
                        {% else %}
                            <p>Aucun document rÃ©cent.</p>
                        {% endfor %}
                    </div>
                </div>

                <!-- BibliothÃ¨que & Upload -->
                <div class="library-container">
                    <!-- BibliothÃ¨que Ã  gauche -->
                    <div class="library">
                        <h2>ðŸ“š Ma BibliothÃ¨que</h2>
                        {% if documents is empty %}
                            <p>Aucun document disponible.</p>
                        {% else %}
                            <ul class="document-list">
                                {% for document in documents %}
                                    <li>
                                        <p>{{ document.nomDuFichier }}</p>
                                        <a href="{{ asset('uploads/pdf/' ~ document.chemin) }}" target="_blank">ðŸ“¥ TÃ©lÃ©charger</a>
                                        <a href="{{ path('document_show', { 'id': document.id }) }}" class="comment-button">ðŸ’¬ Commentaire</a>
                                    </li>
                                {% endfor %}
                            </ul>
                        {% endif %}
                    </div>

                    <!-- Formulaire Ã  droite -->
                    <div class="upload-container">
                        <h2>ðŸ“¤ Ajouter un fichier</h2>
                        <form action="{{ path('app_document') }}" method="post" enctype="multipart/form-data" class="upload-form">
                            {{ form_start(form) }}
                            <div class="form-group">
                                <label for="pdfFile">Choisir un fichier PDF :</label>
                                {{ form_widget(form.pdfFile, {'attr': {'class': 'file-input'}}) }}
                                <button type="submit" class="submit-button">ðŸ“Ž Upload</button>
                            </div>
                            {{ form_end(form) }}
                        </form>
                    </div>
                </div>
            </main>
        </div>
    </body>
</html>
{% endblock %}
